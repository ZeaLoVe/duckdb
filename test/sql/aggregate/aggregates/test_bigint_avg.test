# name: test/sql/aggregate/aggregates/test_bigint_avg.test
# description: Test AVG on integers with no exact float64 representation
# group: [aggregates]

statement ok
CREATE TABLE bigints(n BIGINT);

statement ok
INSERT INTO bigints (n) VALUES ('9007199254740992'::BIGINT), (1::BIGINT), (0::BIGINT);

# this would give the wrong result with 'double' precision


query R
SELECT AVG(n)::DOUBLE - '3002399751580331'::DOUBLE FROM bigints;
----
0
